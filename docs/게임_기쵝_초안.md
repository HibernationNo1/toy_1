# 바나나 뽑기 · NPC 판매 · 유저 마켓 게임 기획 요약서 (초안)

## 0) 한 줄 요약
15분마다 1회 가능한 "바나나 뽑기"로 아이템을 획득하고,  
NPC 판매(수요)와 유저 마켓(거래)로 바나나를 소모하며 바나머니를 축적·경쟁(랭킹)하는 경제 루프 게임.

---

## 1) 핵심 루프(Core Loop)
1) 뽑기(15분마다 1회)로 바나나 획득  
2) 인벤토리에 저장(누적)  
3) (A) NPC 판매로 즉시 바나머니 획득 또는  
   (B) 마켓 등록/거래로 바나머니 획득  
4) 바나머니로 NPC 기능 확장(제시 슬롯 추가) 및 거래/랭킹 경쟁  
5) 다시 뽑기까지 대기 → 다른 행동(판매/마켓/랭킹 확인)으로 루프 지속

---

## 2) 주요 콘텐츠 3종

### 2-1) 바나나 뽑기(Gacha)
- 뽑기 가능 주기: **15분마다 1회**
- 바나나 종류: **총 30종**
- 각 바나나는:
  - 등장 확률이 모두 다름
  - 희소가치(가치/등급)가 모두 다름
- 뽑기 결과는 즉시 **인벤토리에 저장**됨

> 설계 의도:  
> 공급(뽑기) → 보유(인벤) → 소모(판매/거래)로 이어지는 경제의 "공급원" 역할

---

### 2-2) 바나나 판매 NPC (퀘스트형 매입/수요 시스템)
NPC는 유저에게 "지금 사고 싶은 바나나"를 랜덤하게 제시하고,  
유저가 해당 바나나를 보유하면 즉시 판매하여 바나머니를 획득한다.

#### (1) 기본 동작
- NPC는 **원하는 바나나 1종을 완전 랜덤**으로 제시
- 가격 단위: **바나머니**
- NPC 매입 가격은 **희소가치에 비례**하여 책정됨
- 유저가 해당 바나나를 보유하면:
  - 판매 가능
  - 판매 시 바나머니 획득
  - 판매가 성공하면 NPC가 제시하는 바나나가 **랜덤하게 변경**됨

#### (2) 리롤(제시 바나나 변경) 규칙
- 유저가 NPC가 요구하는 바나나를 보유하지 못한 경우,
  가장 희소가치가 낮은 **"클래식 바나나" 1개를 헌납**하여
  NPC의 요구 바나나를 **랜덤으로 교체**할 수 있음

> 설계 의도:  
> “없으면 못 한다”로 막히지 않고,  
> 약한 바나나(클래식)를 경제에서 소모시키면서 계속 행동(판매 시도)을 이어가게 함

#### (3) 슬롯 확장(제시 항목 늘리기)
NPC가 제시하는 "요구 바나나"를 여러 칸으로 확장할 수 있다.

- 기본: **1칸**
- 1칸 → 2칸 확장: **100,000 바나머니**
- 2칸 → 3칸 확장: **1,000,000 바나머니**
- 슬롯이 2칸/3칸인 상태에서:
  - NPC는 각 칸마다 서로 다른(또는 랜덤) 요구 바나나를 제시
  - 유저가 제시된 바나나 중 **하나라도 판매에 성공하면**
    **모든 칸이 동시에 랜덤으로 새 바나나를 제시**하도록 갱신됨

> 설계 의도:  
> 돈을 모을 “명확한 소비처(확장)”를 제공하고,  
> 확장하면 판매 기회가 늘어 “행동 빈도”가 증가하는 구조

---

### 2-3) 바나머니 랭킹 + 게시판(전 서버 경쟁 요소)
- 서버는 전체 유저의 바나머니를 기준으로 랭킹을 수집한다
- 랭킹 결과를 맵의 **게시판 오브젝트(Leaderboard Board)**에 표시한다
- 목적: 바나머니 축적의 동기(경쟁/과시/목표)를 제공

> 설계 의도:  
> “모으는 이유”를 게임 외부 설명 없이 시스템 자체로 만들기

---

## 3) 유저 마켓 시스템(거래소)
유저 간 바나나를 바나머니로 사고팔 수 있는 자유 거래 시스템.

### 3-1) 마켓 기능
- 판매자:
  - 자신이 가진 바나나를 선택
  - 원하는 바나머니 가격을 입력
  - 마켓에 등록
- 구매자:
  - 마켓에 올라온 바나나 목록을 조회
  - 제시된 가격으로 즉시 구매 가능

> 설계 의도:  
> NPC 판매는 “즉시 교환(고정 수요)”의 역할,  
> 마켓은 “유저 간 가치 재배치(자유 거래)”의 역할로 분리

---

## 4) 월드(맵) 배치 요소
- 바나나 판매 NPC:  
  - 접근/클릭 시 판매 UI(또는 상호작용 창) 오픈
  - NPC 제시 바나나 및 가격 표시
  - 판매/리롤/슬롯 확장 행동 제공

- 마켓 NPC:  
  - 클릭 시 **마켓 창 로딩/오픈**
  - 등록/구매 UI 진입점 역할

- 랭킹 게시판 오브젝트:  
  - 서버 집계 랭킹을 실시간/주기적으로 표출

---

## 5) 핵심 리스크/주의점(기획 관점 체크)
- 뽑기 15분 제한은 반드시 서버 기준으로 강제(우회 방지)
- NPC 리롤(클래식 헌납) 무한 반복으로 “원하는 바나나 강제 생성” 가능성 → 제한/감쇠 구조 필요
- 마켓은 자유 가격이므로 시세 조작/트롤 방지 장치(상한/최저, 수수료, 등록 제한 등) 고려 필요
- 랭킹은 잦은 갱신이 비용/부하가 될 수 있으니 갱신 주기 설계 필요(예: 30초~5분 단위)

---

## 6) 게임의 목표(유저 관점)
- 더 희소한 바나나를 뽑아 인벤을 채운다
- NPC 요구를 맞춰 바나머니를 빠르게 늘린다
- 마켓에서 유리하게 거래해 자산을 불린다
- 바나머니 랭킹 상위에 올라 게시판에 이름을 올린다
- NPC 슬롯을 확장해 “판매 기회” 자체를 증가시킨다
